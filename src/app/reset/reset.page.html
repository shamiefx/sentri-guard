<ion-content class="auth-content ion-padding page-animate" fullscreen>
  <div class="brand">
  <h1>Tetapan Semula Kata Laluan</h1>
  <p class="tagline">Hantar pautan set semula ke emel anda</p>
  </div>
  <div class="auth-card" [class.blur]="loading()">
    <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <div class="field" [class.is-invalid]="f.email.touched && f.email.invalid">
  <ion-label>Emel</ion-label>
  <ion-input type="email" formControlName="email" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" placeholder="anda@syarikat.com"></ion-input>
  <ion-note color="danger" *ngIf="f.email.touched && f.email.invalid">Emel sah diperlukan</ion-note>
      </div>
      <div class="status" *ngIf="sent()">
  <ion-note color="success">Jika emel wujud, pautan telah dihantar.</ion-note>
      </div>
      <div class="actions">
        <ion-button type="submit" expand="block" [disabled]="loading() || form.invalid">
          <ng-container *ngIf="!loading(); else loadBtn">Hantar Pautan Set Semula</ng-container>
        </ion-button>
        <ng-template #loadBtn><ion-spinner name="crescent"></ion-spinner></ng-template>
  <button type="button" class="link-btn" (click)="backToLogin()">Kembali ke Log Masuk</button>
      </div>
    </form>
  </div>
  <ion-toast [isOpen]="toastOpen()" (didDismiss)="toastOpen.set(false)" [message]="toastMsg()" duration="3000" position="bottom" color="primary" icon="mail-unread-outline"></ion-toast>
  @if (loading()) { <div class="scrim" aria-hidden="true"><ion-spinner name="crescent"></ion-spinner></div> }
</ion-content>
